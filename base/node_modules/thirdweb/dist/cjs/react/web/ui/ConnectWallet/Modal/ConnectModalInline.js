"use strict";
"use client";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ConnectModalInline = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_icons_1 = require("@radix-ui/react-icons");
const CustomThemeProvider_js_1 = require("../../../../core/design-system/CustomThemeProvider.js");
const index_js_1 = require("../../../../core/design-system/index.js");
const wallet_ui_states_provider_js_1 = require("../../../providers/wallet-ui-states-provider.js");
const canFitWideModal_js_1 = require("../../../utils/canFitWideModal.js");
const DynamicHeight_js_1 = require("../../components/DynamicHeight.js");
const Modal_js_1 = require("../../components/Modal.js");
const buttons_js_1 = require("../../components/buttons.js");
const elements_js_1 = require("../../design-system/elements.js");
const constants_js_1 = require("../constants.js");
const ConnectModalContent_js_1 = require("./ConnectModalContent.js");
const screen_js_1 = require("./screen.js");
/**
 * @internal
 */
const ConnectModalInline = (props) => {
    const modalSize = !(0, canFitWideModal_js_1.canFitWideModal)() || props.wallets.length === 1 ? "compact" : props.size;
    return ((0, jsx_runtime_1.jsx)(wallet_ui_states_provider_js_1.WalletUIStatesProvider, { theme: props.theme, isOpen: true, children: (0, jsx_runtime_1.jsx)(ConnectModalInlineContent, { className: props.className, size: modalSize, meta: props.meta, welcomeScreen: props.welcomeScreen, wallets: props.wallets, accountAbstraction: props.accountAbstraction, auth: props.auth, chain: props.chain, client: props.client, connectLocale: props.connectLocale, isEmbed: props.isEmbed, localeId: props.localeId, onConnect: props.onConnect, recommendedWallets: props.recommendedWallets, showAllWallets: props.showAllWallets, chains: props.chains, walletConnect: props.walletConnect }) }));
};
exports.ConnectModalInline = ConnectModalInline;
function ConnectModalInlineContent(props) {
    const screenSetup = (0, screen_js_1.useSetupScreen)({
        size: props.size,
        welcomeScreen: props.welcomeScreen,
        wallets: props.wallets,
    });
    const content = ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)(ConnectModalContent_js_1.ConnectModalContent, { shouldSetActive: true, screenSetup: screenSetup, setModalVisibility: () => {
                    // noop
                }, isOpen: true, onClose: () => {
                    // no op
                }, accountAbstraction: props.accountAbstraction, auth: props.auth, chain: props.chain, client: props.client, connectLocale: props.connectLocale, size: props.size, meta: props.meta, welcomeScreen: props.welcomeScreen, isEmbed: props.isEmbed, localeId: props.localeId, onConnect: props.onConnect, recommendedWallets: props.recommendedWallets, showAllWallets: props.showAllWallets, wallets: props.wallets, chains: props.chains, walletConnect: props.walletConnect }), (0, jsx_runtime_1.jsx)(Modal_js_1.CrossContainer, { children: (0, jsx_runtime_1.jsx)(buttons_js_1.IconButton, { type: "button", "aria-label": "Close", children: (0, jsx_runtime_1.jsx)(react_icons_1.Cross2Icon, { width: index_js_1.iconSize.md, height: index_js_1.iconSize.md, style: {
                            color: "inherit",
                        } }) }) })] }));
    return ((0, jsx_runtime_1.jsx)(ConnectModalInlineContainer, { className: props.className, style: {
            height: props.size === "compact" ? "auto" : constants_js_1.wideModalMaxHeight,
            maxWidth: props.size === "compact" ? constants_js_1.modalMaxWidthCompact : constants_js_1.modalMaxWidthWide,
            ...props.style,
        }, children: props.size === "compact" ? ((0, jsx_runtime_1.jsxs)(DynamicHeight_js_1.DynamicHeight, { children: [" ", content, " "] })) : (content) }));
}
const ConnectModalInlineContainer = /* @__PURE__ */ (0, elements_js_1.StyledDiv)((_) => {
    const theme = (0, CustomThemeProvider_js_1.useCustomTheme)();
    return {
        background: theme.colors.modalBg,
        color: theme.colors.primaryText,
        transition: "background 0.2s ease",
        borderRadius: index_js_1.radius.xl,
        width: "100%",
        boxSizing: "border-box",
        boxShadow: index_js_1.shadow.lg,
        position: "relative",
        border: `1px solid ${theme.colors.borderColor}`,
        lineHeight: "normal",
        overflow: "hidden",
        fontFamily: theme.fontFamily,
        "& *::selection": {
            backgroundColor: theme.colors.primaryText,
            color: theme.colors.modalBg,
        },
    };
});
//# sourceMappingURL=ConnectModalInline.js.map